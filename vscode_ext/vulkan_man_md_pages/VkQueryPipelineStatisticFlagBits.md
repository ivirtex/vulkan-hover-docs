# VkQueryPipelineStatisticFlagBits(3) Manual Page

## Name

VkQueryPipelineStatisticFlagBits - Bitmask specifying queried pipeline
statistics



## <a href="#_c_specification" class="anchor"></a>C Specification

Bits which **can** be set in
[VkQueryPoolCreateInfo](https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkQueryPoolCreateInfo.html)::`pipelineStatistics`
for query pools and in
[VkCommandBufferInheritanceInfo](https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkCommandBufferInheritanceInfo.html)::`pipelineStatistics`
for secondary command buffers, individually enabling pipeline statistics
counters, are:

``` c
// Provided by VK_VERSION_1_0
typedef enum VkQueryPipelineStatisticFlagBits {
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT = 0x00000001,
    VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT = 0x00000002,
    VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT = 0x00000004,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT = 0x00000008,
    VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT = 0x00000010,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT = 0x00000020,
    VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT = 0x00000040,
    VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT = 0x00000080,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT = 0x00000100,
    VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT = 0x00000200,
    VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT = 0x00000400,
  // Provided by VK_EXT_mesh_shader
    VK_QUERY_PIPELINE_STATISTIC_TASK_SHADER_INVOCATIONS_BIT_EXT = 0x00000800,
  // Provided by VK_EXT_mesh_shader
    VK_QUERY_PIPELINE_STATISTIC_MESH_SHADER_INVOCATIONS_BIT_EXT = 0x00001000,
  // Provided by VK_HUAWEI_cluster_culling_shader
    VK_QUERY_PIPELINE_STATISTIC_CLUSTER_CULLING_SHADER_INVOCATIONS_BIT_HUAWEI = 0x00002000,
} VkQueryPipelineStatisticFlagBits;
```

## <a href="#_description" class="anchor"></a>Description

- `VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_VERTICES_BIT` specifies
  that queries managed by the pool will count the number of vertices
  processed by the <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#drawing"
  target="_blank" rel="noopener">input assembly</a> stage. Vertices
  corresponding to incomplete primitives **may** contribute to the
  count.

- `VK_QUERY_PIPELINE_STATISTIC_INPUT_ASSEMBLY_PRIMITIVES_BIT` specifies
  that queries managed by the pool will count the number of primitives
  processed by the <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#drawing"
  target="_blank" rel="noopener">input assembly</a> stage. If primitive
  restart is enabled, restarting the primitive topology has no effect on
  the count. Incomplete primitives **may** be counted.

- `VK_QUERY_PIPELINE_STATISTIC_VERTEX_SHADER_INVOCATIONS_BIT` specifies
  that queries managed by the pool will count the number of vertex
  shader invocations. This counter’s value is incremented each time a
  vertex shader is <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#shaders-vertex-execution"
  target="_blank" rel="noopener">invoked</a>.

- `VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_INVOCATIONS_BIT`
  specifies that queries managed by the pool will count the number of
  geometry shader invocations. This counter’s value is incremented each
  time a geometry shader is <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#shaders-geometry-execution"
  target="_blank" rel="noopener">invoked</a>. In the case of <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#geometry-invocations"
  target="_blank" rel="noopener">instanced geometry shaders</a>, the
  geometry shader invocations count is incremented for each separate
  instanced invocation.

- `VK_QUERY_PIPELINE_STATISTIC_GEOMETRY_SHADER_PRIMITIVES_BIT` specifies
  that queries managed by the pool will count the number of primitives
  generated by geometry shader invocations. The counter’s value is
  incremented each time the geometry shader emits a primitive.
  Restarting primitive topology using the SPIR-V instructions
  `OpEndPrimitive` or `OpEndStreamPrimitive` has no effect on the
  geometry shader output primitives count.

- `VK_QUERY_PIPELINE_STATISTIC_CLIPPING_INVOCATIONS_BIT` specifies that
  queries managed by the pool will count the number of primitives
  processed by the <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#vertexpostproc-clipping"
  target="_blank" rel="noopener">Primitive Clipping</a> stage of the
  pipeline. The counter’s value is incremented each time a primitive
  reaches the primitive clipping stage.

- `VK_QUERY_PIPELINE_STATISTIC_CLIPPING_PRIMITIVES_BIT` specifies that
  queries managed by the pool will count the number of primitives output
  by the <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#vertexpostproc-clipping"
  target="_blank" rel="noopener">Primitive Clipping</a> stage of the
  pipeline. The counter’s value is incremented each time a primitive
  passes the primitive clipping stage. The actual number of primitives
  output by the primitive clipping stage for a particular input
  primitive is implementation-dependent but **must** satisfy the
  following conditions:

  - If at least one vertex of the input primitive lies inside the
    clipping volume, the counter is incremented by one or more.

  - Otherwise, the counter is incremented by zero or more.

- `VK_QUERY_PIPELINE_STATISTIC_FRAGMENT_SHADER_INVOCATIONS_BIT`
  specifies that queries managed by the pool will count the number of
  fragment shader invocations. The counter’s value is incremented each
  time the fragment shader is <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#fragops-shader"
  target="_blank" rel="noopener">invoked</a>.

- `VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_CONTROL_SHADER_PATCHES_BIT`
  specifies that queries managed by the pool will count the number of
  patches processed by the tessellation control shader. The counter’s
  value is incremented once for each patch for which a tessellation
  control shader is <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#shaders-tessellation-control-execution"
  target="_blank" rel="noopener">invoked</a>.

- `VK_QUERY_PIPELINE_STATISTIC_TESSELLATION_EVALUATION_SHADER_INVOCATIONS_BIT`
  specifies that queries managed by the pool will count the number of
  invocations of the tessellation evaluation shader. The counter’s value
  is incremented each time the tessellation evaluation shader is <a
  href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#shaders-tessellation-evaluation-execution"
  target="_blank" rel="noopener">invoked</a>.

- `VK_QUERY_PIPELINE_STATISTIC_COMPUTE_SHADER_INVOCATIONS_BIT` specifies
  that queries managed by the pool will count the number of compute
  shader invocations. The counter’s value is incremented every time the
  compute shader is invoked. Implementations **may** skip the execution
  of certain compute shader invocations or execute additional compute
  shader invocations for implementation-dependent reasons as long as the
  results of rendering otherwise remain unchanged.

- `VK_QUERY_PIPELINE_STATISTIC_TASK_SHADER_INVOCATIONS_BIT_EXT`
  specifies that queries managed by the pool will count the number of
  task shader invocations. The counter’s value is incremented every time
  the task shader is invoked.

- `VK_QUERY_PIPELINE_STATISTIC_MESH_SHADER_INVOCATIONS_BIT_EXT`
  specifies that queries managed by the pool will count the number of
  mesh shader invocations. The counter’s value is incremented every time
  the mesh shader is invoked.

These values are intended to measure relative statistics on one
implementation. Various device architectures will count these values
differently. Any or all counters **may** be affected by the issues
described in <a
href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-undefined"
target="_blank" rel="noopener">Query Operation</a>.

This counting difference is especially true if the pipeline contains
mesh or task shaders, which may affect several of the counters in
unexpected ways.

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td class="icon"><em></em></td>
<td class="content">Note
<p>For example, tile-based rendering devices <strong>may</strong> need
to replay the scene multiple times, affecting some of the
counts.</p></td>
</tr>
</tbody>
</table>

If a pipeline has `rasterizerDiscardEnable` enabled, implementations
**may** discard primitives after the final <a
href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#pipelines-graphics-subsets-pre-rasterization"
target="_blank" rel="noopener">pre-rasterization shader stage</a>. As a
result, if `rasterizerDiscardEnable` is enabled, the clipping input and
output primitives counters **may** not be incremented.

When a pipeline statistics query finishes, the result for that query is
marked as available. The application **can** copy the result to a buffer
(via `vkCmdCopyQueryPoolResults`), or request it be put into host memory
(via `vkGetQueryPoolResults`).

## <a href="#_see_also" class="anchor"></a>See Also

[VK_VERSION_1_0](https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VK_VERSION_1_0.html),
[VkQueryPipelineStatisticFlags](https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkQueryPipelineStatisticFlags.html)

## <a href="#_document_notes" class="anchor"></a>Document Notes

For more information, see the <a
href="https://registry.khronos.org/vulkan/specs/1.3-extensions/html/vkspec.html#VkQueryPipelineStatisticFlagBits"
target="_blank" rel="noopener">Vulkan Specification</a>

This page is extracted from the Vulkan Specification. Fixes and changes
should be made to the Specification, not directly.

## <a href="#_copyright" class="anchor"></a>Copyright

Copyright 2014-2024 The Khronos Group Inc.

SPDX-License-Identifier: CC-BY-4.0

Version 1.3.285  
Last updated 2024-05-10 01:10:25 -0700
